---
title: "Case 1 Learning Objective 4"
author: "Lisa Levoir and Jeffrey Zhuohui Liang"
date: "`r format(Sys.time(), '%B %d, %Y')`"
format: 
  html:
        theme: yeti
        code-fold: true
        code-tools: true
        html-math-method: katex
        toc: true
        toc-depth: 3
        fig-width: 13
        fig-height: 10
        toc-title: "Contents"
        number-sections: true
        self-contained: true
        self-contained-math: true
        smooth-scroll: true
        fontsize: 0.8em
        title-block-banner: true
        citation-location: margin
editor: visual
---

```{r setup}
#| echo: false
#| message: false
#| warning: false

#load libraries (more than I need but nice ot have)
library(tidyverse)
library(knitr)
library(table1) #Create HTML Tables of Descriptive Statistics https://cran.r-project.org/web/packages/table1/vignettes/table1-examples.html
#library(OMTM1) #https://github.com/schildjs/OMTM1/
library(Hmisc)
library(viridis) #colors
library(rms) # Regression Modeling Strategies by Frank https://cran.r-project.org/web/packages/rms/index.html
library(modelsummary) #Summary Tables and Plots for Statistical Models and Data: Beautiful, Customizable, and Publication-Ready https://cran.r-project.org/web/packages/modelsummary/index.html
library(scales) # The scales packages provides the internal scaling infrastructure used by ggplot2, and gives you tools to override the default breaks, labels, transformations and palettes. https://scales.r-lib.org
library(plotly)
library(dplyr)
library(tidyr)
library(cowplot) #allows me to use plotgrid
library(gridExtra) #adding tables to plots


setwd("/Users/lisalevoir/BIOS7351_Collab/github/BIOS_Collaboration") #this line used to work until I moved this qmd file to my github folder (I need to run this in the console when I switch projects)
knitr::opts_knit$set(root.dir = "/Users/lisalevoir/BIOS7351_Collab/github/BIOS_Collaboration/case1") #this is a global option for knitting
dat <- readxl::read_xlsx("~/BIOS7351_Collab/github/BIOS_Collaboration/case1/Case1.xlsx")
```

# Analyzing medical students scores

Background given in the case desciprtion: "The course lasts twelve weeks. Throughout the course, students are assessed in multiple ways, including weekly quizzes, slide exams, and essays. They also take an end of course exam that includes essay, short answer, and multiple-choice components. The final data has the average scores for those assessments. Students are required to take laboratory practical (gross anatomy, histology, pathology and neuroanatomy) exams which are averaged into the final grade. Students also take a National Board of Medical Examiners (NBME) standardized exam in each course. Theoretically, if they do well on these exams, they should do well in the course overall. All of the assessments have been calculated on a 100- point scale."

## Questions

-   How should we define not pass/ marginal pass/ pass thresholds and criteria?
-   How do these thresholds compare to final exam scores

## Data

There are `r length(unique(dat$id))` students.

```{r}

label(dat$quiz)      <- "Quiz score (mean weekly performance)"
label(dat$nbme)      <- "National Board of Medical Examiners score"
label(dat$ga)        <- "GA"
label(dat$slide)      <- "Slide exams score (mean)"
label(dat$part.c)      <- "Quiz score (mean)"
label(dat$essay)      <- "Essay score (mean)"
label(dat$eob.exam)      <- "EOB exam"
label(dat$final)      <- "Final score"

table1(~quiz + nbme + ga + slide + part.c + essay+ eob.exam + final , data=dat, topclass="Rtable1-zebra",)
length(unique(dat$id))
```

Questions for Mario:

-   What does GA stand for in the data? What does part.c stand for in the data? What does eob refer to on the exam? Where is the score for the laboratory practical?

-   Can we assume the slide exam score is a mean?
